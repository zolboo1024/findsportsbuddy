{"ast":null,"code":"var _jsxFileName = \"/home/zolboo/Projects/findsportsbuddy/client/src/Components/HostEventForm/AskLocation.js\",\n    _s = $RefreshSig$();\n\nimport { GoogleMap, useLoadScript, Marker } from '@react-google-maps/api';\nimport mapStyles from './../mapStyles';\nimport React, { useEffect, useState } from 'react';\nimport CustomNavbar from '../CustomNavbar';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport 'bulma/css/bulma.min.css';\nimport './AskLocation.css';\nimport Geocode from \"react-geocode\";\nimport { parse } from 'dotenv';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar CONFIG = require('./../../config.json'); //function that returns the custom map\n\n\nconst mapContainerStyle = {\n  width: \"100vw\",\n  height: \"100vh\"\n};\nconst options = {\n  styles: mapStyles,\n  disableDefaultUI: true\n};\nexport default function AskLocation(props) {\n  _s();\n\n  const [selected, setSelected] = useState(null);\n  const [center, setCenter] = useState({\n    lat: 38.8977,\n    lng: 77.0365\n  }); //load the maps\n\n  const libraries = [\"places\"];\n  const {\n    isLoaded,\n    loadError\n  } = useLoadScript({\n    googleMapsApiKey: CONFIG.JS_MAPS_KEY,\n    libraries\n  });\n  const [marker, setMarker] = React.useState();\n  useEffect(() => {\n    const savedLocation = localStorage.getItem(\"selectedLocation\");\n    const split = savedLocation.split(' ');\n    setCenter({\n      lat: parseFloat(split[0]),\n      lng: parseFloat(split[1])\n    });\n  }, []);\n\n  function handleAddressChange(event) {\n    const latLng = event.value.description;\n    Geocode.setApiKey(CONFIG.PLACES_KEy); // Get latitude & longitude from address.\n\n    Geocode.fromAddress(address.label).then(response => {\n      const {\n        lat,\n        lng\n      } = response.results[0].geometry.location;\n      const selectedLocation = lat + \" \" + lng;\n      localStorage.setItem(\"selectedLocation\", selectedLocation); // console.log(address.label)\n      // console.log(lat + \" \" + lng)\n\n      changePage('/sportsMap', lat, lng);\n    }, error => {\n      console.error(error);\n    });\n  }\n\n  if (loadError) return \"LoadError\";\n  if (!isLoaded) return \"Loading\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CustomNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hero is-fullheight-with-navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box has-text-black\",\n        id: \"question\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"title has-text-black\",\n          children: \"Where would you like to play?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Search for a specific location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GooglePlacesAutocomplete, {\n          apiKey: CONFIG.PLACES_KEy,\n          selectProps: {\n            selected,\n            onChange: handleAddressChange\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), marker && /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"box\",\n        id: \"rightarrow\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"image\",\n          alt: \"right arrow\",\n          src: window.location.origin + \"/svgs/rightarrow.svg\",\n          onClick: props.nextStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: mapContainerStyle,\n        zoom: 15,\n        center: center,\n        options: options,\n        onClick: event => {\n          setMarker({\n            lat: event.latLng.lat(),\n            lng: event.latLng.lng()\n          }); //save the location into the parent's state\n\n          props.handleLocation(event.latLng.lat(), event.latLng.lng());\n        },\n        children: marker && /*#__PURE__*/_jsxDEV(Marker, {\n          position: {\n            lat: marker.lat,\n            lng: marker.lng\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AskLocation, \"mmkmOOzLxp+PUufd/4x0/T1cinc=\", false, function () {\n  return [useLoadScript];\n});\n\n_c = AskLocation;\n\nvar _c;\n\n$RefreshReg$(_c, \"AskLocation\");","map":{"version":3,"sources":["/home/zolboo/Projects/findsportsbuddy/client/src/Components/HostEventForm/AskLocation.js"],"names":["GoogleMap","useLoadScript","Marker","mapStyles","React","useEffect","useState","CustomNavbar","GooglePlacesAutocomplete","Geocode","parse","CONFIG","require","mapContainerStyle","width","height","options","styles","disableDefaultUI","AskLocation","props","selected","setSelected","center","setCenter","lat","lng","libraries","isLoaded","loadError","googleMapsApiKey","JS_MAPS_KEY","marker","setMarker","savedLocation","localStorage","getItem","split","parseFloat","handleAddressChange","event","latLng","value","description","setApiKey","PLACES_KEy","fromAddress","address","label","then","response","results","geometry","location","selectedLocation","setItem","changePage","error","console","onChange","window","origin","nextStep","handleLocation"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,aAApB,EAAmCC,MAAnC,QAAiD,wBAAjD;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,wBAAP,MAAqC,kCAArC;AACA,OAAO,yBAAP;AACA,OAAO,mBAAP;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,SAASC,KAAT,QAAsB,QAAtB;;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,qBAAD,CAApB,C,CAEA;;;AACA,MAAMC,iBAAiB,GAAG;AACtBC,EAAAA,KAAK,EAAE,OADe;AAEtBC,EAAAA,MAAM,EAAE;AAFc,CAA1B;AAIA,MAAMC,OAAO,GAAG;AACZC,EAAAA,MAAM,EAAEd,SADI;AAEZe,EAAAA,gBAAgB,EAAE;AAFN,CAAhB;AAIA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AACvC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC;AAAEmB,IAAAA,GAAG,EAAE,OAAP;AAAgBC,IAAAA,GAAG,EAAE;AAArB,GAAD,CAApC,CAFuC,CAGvC;;AACA,QAAMC,SAAS,GAAG,CAAC,QAAD,CAAlB;AACA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA0B5B,aAAa,CAAC;AAC1C6B,IAAAA,gBAAgB,EAAEnB,MAAM,CAACoB,WADiB;AAE1CJ,IAAAA;AAF0C,GAAD,CAA7C;AAIA,QAAM,CAACK,MAAD,EAASC,SAAT,IAAsB7B,KAAK,CAACE,QAAN,EAA5B;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM6B,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAtB;AACA,UAAMC,KAAK,GAAGH,aAAa,CAACG,KAAd,CAAoB,GAApB,CAAd;AACAb,IAAAA,SAAS,CAAC;AACNC,MAAAA,GAAG,EAAEa,UAAU,CAACD,KAAK,CAAC,CAAD,CAAN,CADT;AAENX,MAAAA,GAAG,EAAEY,UAAU,CAACD,KAAK,CAAC,CAAD,CAAN;AAFT,KAAD,CAAT;AAIH,GAPQ,EAON,EAPM,CAAT;;AAQA,WAASE,mBAAT,CAA6BC,KAA7B,EAAoC;AAChC,UAAMC,MAAM,GAAGD,KAAK,CAACE,KAAN,CAAYC,WAA3B;AACAlC,IAAAA,OAAO,CAACmC,SAAR,CAAkBjC,MAAM,CAACkC,UAAzB,EAFgC,CAGhC;;AACApC,IAAAA,OAAO,CAACqC,WAAR,CAAoBC,OAAO,CAACC,KAA5B,EAAmCC,IAAnC,CACKC,QAAD,IAAc;AACV,YAAM;AAAEzB,QAAAA,GAAF;AAAOC,QAAAA;AAAP,UAAewB,QAAQ,CAACC,OAAT,CAAiB,CAAjB,EAAoBC,QAApB,CAA6BC,QAAlD;AACA,YAAMC,gBAAgB,GAAG7B,GAAG,GAAG,GAAN,GAAYC,GAArC;AACAS,MAAAA,YAAY,CAACoB,OAAb,CAAqB,kBAArB,EAAyCD,gBAAzC,EAHU,CAIV;AACA;;AACAE,MAAAA,UAAU,CAAC,YAAD,EAAe/B,GAAf,EAAoBC,GAApB,CAAV;AACH,KARL,EASK+B,KAAD,IAAW;AACPC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH,KAXL;AAaH;;AACD,MAAI5B,SAAJ,EAAe,OAAO,WAAP;AACf,MAAI,CAACD,QAAL,EAAe,OAAO,SAAP;AACf,sBACI;AAAA,4BACI,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAoC,QAAA,EAAE,EAAC,UAAvC;AAAA,gCACI;AAAI,UAAA,KAAK,EAAC,sBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAOI,QAAC,wBAAD;AACI,UAAA,MAAM,EAAEjB,MAAM,CAACkC,UADnB;AAEI,UAAA,WAAW,EAAE;AACTxB,YAAAA,QADS;AAETsC,YAAAA,QAAQ,EAAEpB;AAFD;AAFjB;AAAA;AAAA;AAAA;AAAA,gBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAkBQP,MAAM,iBACN;AAAK,QAAA,KAAK,EAAC,KAAX;AAAiB,QAAA,EAAE,EAAC,YAApB;AAAA,+BACI;AACI,UAAA,IAAI,EAAC,OADT;AAEI,UAAA,GAAG,EAAC,aAFR;AAGI,UAAA,GAAG,EAAE4B,MAAM,CAACP,QAAP,CAAgBQ,MAAhB,GAAyB,sBAHlC;AAII,UAAA,OAAO,EAAEzC,KAAK,CAAC0C;AAJnB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAnBR,eA4BI,QAAC,SAAD;AACI,QAAA,iBAAiB,EAAEjD,iBADvB;AAEI,QAAA,IAAI,EAAE,EAFV;AAGI,QAAA,MAAM,EAAEU,MAHZ;AAII,QAAA,OAAO,EAAEP,OAJb;AAKI,QAAA,OAAO,EACFwB,KAAD,IAAW;AACPP,UAAAA,SAAS,CAAC;AACNR,YAAAA,GAAG,EAAEe,KAAK,CAACC,MAAN,CAAahB,GAAb,EADC;AAENC,YAAAA,GAAG,EAAEc,KAAK,CAACC,MAAN,CAAaf,GAAb;AAFC,WAAD,CAAT,CADO,CAKP;;AACAN,UAAAA,KAAK,CAAC2C,cAAN,CAAqBvB,KAAK,CAACC,MAAN,CAAahB,GAAb,EAArB,EAAyCe,KAAK,CAACC,MAAN,CAAaf,GAAb,EAAzC;AACH,SAbT;AAAA,kBAgBKM,MAAM,iBACH,QAAC,MAAD;AAAQ,UAAA,QAAQ,EAAE;AAAEP,YAAAA,GAAG,EAAEO,MAAM,CAACP,GAAd;AAAmBC,YAAAA,GAAG,EAAEM,MAAM,CAACN;AAA/B;AAAlB;AAAA;AAAA;AAAA;AAAA;AAjBR;AAAA;AAAA;AAAA;AAAA,cA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAsDH;;GA5FuBP,W;UAKYlB,a;;;KALZkB,W","sourcesContent":["import { GoogleMap, useLoadScript, Marker } from '@react-google-maps/api';\nimport mapStyles from './../mapStyles';\nimport React, { useEffect, useState } from 'react';\nimport CustomNavbar from '../CustomNavbar';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport 'bulma/css/bulma.min.css';\nimport './AskLocation.css';\nimport Geocode from \"react-geocode\";\nimport { parse } from 'dotenv';\nvar CONFIG = require('./../../config.json');\n\n//function that returns the custom map\nconst mapContainerStyle = {\n    width: \"100vw\",\n    height: \"100vh\"\n}\nconst options = {\n    styles: mapStyles,\n    disableDefaultUI: true\n}\nexport default function AskLocation(props) {\n    const [selected, setSelected] = useState(null);\n    const [center, setCenter] = useState({ lat: 38.8977, lng: 77.0365 })\n    //load the maps\n    const libraries = [\"places\"];\n    const { isLoaded, loadError } = useLoadScript({\n        googleMapsApiKey: CONFIG.JS_MAPS_KEY,\n        libraries\n    });\n    const [marker, setMarker] = React.useState();\n    useEffect(() => {\n        const savedLocation = localStorage.getItem(\"selectedLocation\");\n        const split = savedLocation.split(' ')\n        setCenter({\n            lat: parseFloat(split[0]),\n            lng: parseFloat(split[1])\n        })\n    }, []);\n    function handleAddressChange(event) {\n        const latLng = event.value.description;\n        Geocode.setApiKey(CONFIG.PLACES_KEy);\n        // Get latitude & longitude from address.\n        Geocode.fromAddress(address.label).then(\n            (response) => {\n                const { lat, lng } = response.results[0].geometry.location;\n                const selectedLocation = lat + \" \" + lng\n                localStorage.setItem(\"selectedLocation\", selectedLocation);\n                // console.log(address.label)\n                // console.log(lat + \" \" + lng)\n                changePage('/sportsMap', lat, lng);\n            },\n            (error) => {\n                console.error(error);\n            }\n        );\n    }\n    if (loadError) return \"LoadError\";\n    if (!isLoaded) return \"Loading\";\n    return (\n        <div>\n            <CustomNavbar></CustomNavbar>\n            <div className=\"hero is-fullheight-with-navbar\">\n                <div className=\"box has-text-black\" id=\"question\">\n                    <h1 class=\"title has-text-black\">\n                        Where would you like to play?\n                    </h1>\n                    <h3>\n                        Search for a specific location:\n                    </h3>\n                    <GooglePlacesAutocomplete\n                        apiKey={CONFIG.PLACES_KEy}\n                        selectProps={{\n                            selected,\n                            onChange: handleAddressChange,\n                        }}\n                    />\n\n                </div>\n                {\n                    marker &&\n                    <div class=\"box\" id=\"rightarrow\">\n                        <input\n                            type=\"image\"\n                            alt=\"right arrow\"\n                            src={window.location.origin + \"/svgs/rightarrow.svg\"}\n                            onClick={props.nextStep}>\n                        </input>\n                    </div>\n                }\n                <GoogleMap\n                    mapContainerStyle={mapContainerStyle}\n                    zoom={15}\n                    center={center}\n                    options={options}\n                    onClick={\n                        (event) => {\n                            setMarker({\n                                lat: event.latLng.lat(),\n                                lng: event.latLng.lng()\n                            });\n                            //save the location into the parent's state\n                            props.handleLocation(event.latLng.lat(), event.latLng.lng());\n                        }\n                    }\n                >\n                    {marker &&\n                        <Marker position={{ lat: marker.lat, lng: marker.lng }}></Marker>\n                    }\n                </GoogleMap>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}