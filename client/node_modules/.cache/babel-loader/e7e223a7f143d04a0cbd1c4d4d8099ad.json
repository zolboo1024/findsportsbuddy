{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/findsportsbuddy/client/src/Components/HostEventForm/AskLocation.js\",\n    _s = $RefreshSig$();\n\n//The form of the hostEvent page that asks for the users location\n//Author: Zolboo Erdenebaatar\nimport { GoogleMap, useLoadScript, Marker } from '@react-google-maps/api';\nimport mapStyles from './../mapStyles';\nimport React, { useEffect, useState } from 'react';\nimport CustomNavbar from '../CustomNavbar';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport 'bulma/css/bulma.min.css';\nimport './AskLocation.css';\nimport Geocode from \"react-geocode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar CONFIG = require('./../../config.json');\n\nGeocode.setApiKey(CONFIG.PLACES_KEy); //function that returns the custom map\n\nconst mapContainerStyle = {\n  width: \"100vw\",\n  height: \"100vh\"\n};\nconst options = {\n  styles: mapStyles,\n  disableDefaultUI: true\n};\nexport default function AskLocation(props) {\n  _s();\n\n  const [selected, setSelected] = useState(null);\n  const [center, setCenter] = useState({\n    lat: 38.8977,\n    lng: 77.0365\n  }); //load the maps\n\n  const {\n    isLoaded,\n    loadError\n  } = useLoadScript({\n    googleMapsApiKey: CONFIG.JS_MAPS_KEY\n  });\n  const [marker, setMarker] = React.useState();\n  useEffect(() => {\n    const savedLocation = localStorage.getItem(\"selectedLocation\");\n    const split = savedLocation.split(' ');\n    setCenter({\n      lat: parseFloat(split[0]),\n      lng: parseFloat(split[1])\n    });\n  }, []);\n\n  function handleAddressChange(event) {\n    const address = event.value.description; // Get latitude & longitude from address.\n\n    Geocode.fromAddress(address).then(response => {\n      const {\n        lat,\n        lng\n      } = response.results[0].geometry.location;\n      const selectedLocation = lat + \" \" + lng;\n      localStorage.setItem(\"selectedLocation\", selectedLocation);\n      setSelected({\n        lat: parseFloat(lat),\n        lng: parseFloat(lng)\n      });\n    }, error => {\n      console.error(error);\n    });\n  }\n\n  if (loadError) return \"LoadError\";\n  if (!isLoaded) return \"Loading\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CustomNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hero is-fullheight-with-navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box has-text-black\",\n        id: \"question\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title has-text-black\",\n          children: \"Where would you like to play? (Drop a pin)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Search for a specific location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GooglePlacesAutocomplete, {\n          apiKey: CONFIG.PLACES_KEy,\n          selectProps: {\n            selected,\n            onChange: handleAddressChange\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), marker && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        id: \"rightarrow\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"image\",\n          alt: \"right arrow\",\n          src: window.location.origin + \"/svgs/rightarrow.svg\",\n          onClick: props.nextStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: mapContainerStyle,\n        zoom: 15,\n        center: center,\n        options: options,\n        onClick: event => {\n          setMarker({\n            lat: event.latLng.lat(),\n            lng: event.latLng.lng()\n          }); //save the location into the parent's state\n\n          props.handleLocation(event.latLng.lat(), event.latLng.lng());\n        },\n        children: marker && /*#__PURE__*/_jsxDEV(Marker, {\n          position: {\n            lat: marker.lat,\n            lng: marker.lng\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AskLocation, \"mmkmOOzLxp+PUufd/4x0/T1cinc=\", false, function () {\n  return [useLoadScript];\n});\n\n_c = AskLocation;\n\nvar _c;\n\n$RefreshReg$(_c, \"AskLocation\");","map":{"version":3,"sources":["/home/ec2-user/findsportsbuddy/client/src/Components/HostEventForm/AskLocation.js"],"names":["GoogleMap","useLoadScript","Marker","mapStyles","React","useEffect","useState","CustomNavbar","GooglePlacesAutocomplete","Geocode","CONFIG","require","setApiKey","PLACES_KEy","mapContainerStyle","width","height","options","styles","disableDefaultUI","AskLocation","props","selected","setSelected","center","setCenter","lat","lng","isLoaded","loadError","googleMapsApiKey","JS_MAPS_KEY","marker","setMarker","savedLocation","localStorage","getItem","split","parseFloat","handleAddressChange","event","address","value","description","fromAddress","then","response","results","geometry","location","selectedLocation","setItem","error","console","onChange","window","origin","nextStep","latLng","handleLocation"],"mappings":"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","sourcesContent":["//The form of the hostEvent page that asks for the users location\n//Author: Zolboo Erdenebaatar\n\nimport { GoogleMap, useLoadScript, Marker } from '@react-google-maps/api';\nimport mapStyles from './../mapStyles';\nimport React, { useEffect, useState } from 'react';\nimport CustomNavbar from '../CustomNavbar';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport 'bulma/css/bulma.min.css';\nimport './AskLocation.css';\nimport Geocode from \"react-geocode\";\nvar CONFIG = require('./../../config.json');\nGeocode.setApiKey(CONFIG.PLACES_KEy);\n//function that returns the custom map\nconst mapContainerStyle = {\n    width: \"100vw\",\n    height: \"100vh\"\n}\nconst options = {\n    styles: mapStyles,\n    disableDefaultUI: true\n}\nexport default function AskLocation(props) {\n    const [selected, setSelected] = useState(null);\n    const [center, setCenter] = useState({ lat: 38.8977, lng: 77.0365 })\n    //load the maps\n    const { isLoaded, loadError } = useLoadScript({\n        googleMapsApiKey: CONFIG.JS_MAPS_KEY\n    });\n    const [marker, setMarker] = React.useState();\n    useEffect(() => {\n        const savedLocation = localStorage.getItem(\"selectedLocation\");\n        const split = savedLocation.split(' ')\n        setCenter({\n            lat: parseFloat(split[0]),\n            lng: parseFloat(split[1])\n        })\n    }, []);\n    function handleAddressChange(event) {\n        const address = event.value.description;\n        // Get latitude & longitude from address.\n        Geocode.fromAddress(address).then(\n            (response) => {\n                const { lat, lng } = response.results[0].geometry.location;\n                const selectedLocation = lat + \" \" + lng\n                localStorage.setItem(\"selectedLocation\", selectedLocation);\n                setSelected({\n                    lat: parseFloat(lat),\n                    lng: parseFloat(lng)\n                })\n            },\n            (error) => {\n                console.error(error);\n            }\n        );\n    }\n    if (loadError) return \"LoadError\";\n    if (!isLoaded) return \"Loading\";\n    return (\n        <div>\n            <CustomNavbar></CustomNavbar>\n            <div className=\"hero is-fullheight-with-navbar\">\n                <div className=\"box has-text-black\" id=\"question\">\n                    <h1 className=\"title has-text-black\">\n                        Where would you like to play? (Drop a pin)\n                    </h1>\n                    <h3>\n                        Search for a specific location:\n                    </h3>\n                    <GooglePlacesAutocomplete\n                        apiKey={CONFIG.PLACES_KEy}\n                        selectProps={{\n                            selected,\n                            onChange: handleAddressChange,\n                        }}\n                    />\n\n                </div>\n                {\n                    marker &&\n                    <div className=\"box\" id=\"rightarrow\">\n                        <input\n                            type=\"image\"\n                            alt=\"right arrow\"\n                            src={window.location.origin + \"/svgs/rightarrow.svg\"}\n                            onClick={props.nextStep}>\n                        </input>\n                    </div>\n                }\n                <GoogleMap\n                    mapContainerStyle={mapContainerStyle}\n                    zoom={15}\n                    center={center}\n                    options={options}\n                    onClick={\n                        (event) => {\n                            setMarker({\n                                lat: event.latLng.lat(),\n                                lng: event.latLng.lng()\n                            });\n                            //save the location into the parent's state\n                            props.handleLocation(event.latLng.lat(), event.latLng.lng());\n                        }\n                    }\n                >\n                    {marker &&\n                        <Marker position={{ lat: marker.lat, lng: marker.lng }}></Marker>\n                    }\n                </GoogleMap>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}