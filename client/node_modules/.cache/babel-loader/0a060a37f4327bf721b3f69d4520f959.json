{"ast":null,"code":"var _jsxFileName = \"/home/zolboo/Projects/findsportsbuddy/client/src/Components/LoginPage.js\";\n//React Login Page for the app\n//calls the authService to login and save the\n//token. If it is not validated, it returns an error message\n//Zolboo\nimport React, { Component } from 'react';\nimport 'bulma/css/bulma.min.css';\nimport authService from './../auth/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      errorMessage: ''\n    };\n    this.handleUsername = this.handleUsername.bind(this);\n    this.handlePassword = this.handlePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlErrorMessage = this.handlErrorMessage.bind(this);\n  }\n\n  handleUsername(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  handlePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault(); //validate the username and password\n    //if it works, save the jwt in the local storage\n\n    authService.login(this.state.username, this.state.password).then(() => {\n      //go to the home page\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      this.setState({\n        errorMessage: resMessage\n      });\n    });\n  } //if the auth returns an error message\n\n\n  handlErrorMessage(message) {\n    this.setState({\n      errorMessage: message\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        class: \"hero is-success is-fullheight\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"hero-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"container has-text-centered\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"column is-4 is-offset-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                class: \"title has-text-black\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                class: \"login-hr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"subtitle has-text-black\",\n                children: \"Please login to proceed.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"box\",\n                children: [this.state.errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"notification is-danger\",\n                  children: \"Invalid Credentials.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"field\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"control\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        class: \"input is-large\",\n                        type: \"username\",\n                        placeholder: \"Your Username\",\n                        value: this.state.username,\n                        onChange: this.handleUsername\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 80,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"field\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"control\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        class: \"input is-large\",\n                        type: \"password\",\n                        placeholder: \"Your Password\",\n                        value: this.state.password,\n                        onChange: this.handlePassword\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    class: \"button is-block is-info is-large is-fullwidth\",\n                    onClick: this.handleSubmit,\n                    children: [\"Login \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"fa fa-sign-in\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 137\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"has-text-grey\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"../\",\n                  children: \"Sign Up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 37\n                }, this), \" \\xA0\\xB7\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"../\",\n                  children: \"Forgot Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 41\n                }, this), \" \\xA0\\xB7\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"../\",\n                  children: \"Need Help?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/zolboo/Projects/findsportsbuddy/client/src/Components/LoginPage.js"],"names":["React","Component","authService","LoginPage","constructor","props","state","username","password","errorMessage","handleUsername","bind","handlePassword","handleSubmit","handlErrorMessage","event","setState","target","value","preventDefault","login","then","history","push","window","location","reload","error","resMessage","response","data","message","toString","render"],"mappings":"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","sourcesContent":["//React Login Page for the app\n//calls the authService to login and save the\n//token. If it is not validated, it returns an error message\n//Zolboo\nimport React, { Component } from 'react';\nimport 'bulma/css/bulma.min.css';\nimport authService from './../auth/authService';\n\nclass LoginPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            errorMessage: ''\n        };\n        this.handleUsername = this.handleUsername.bind(this);\n        this.handlePassword = this.handlePassword.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n        this.handlErrorMessage = this.handlErrorMessage.bind(this);\n    }\n\n    handleUsername(event) {\n        this.setState({ username: event.target.value });\n    }\n\n    handlePassword(event) {\n        this.setState({ password: event.target.value });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        //validate the username and password\n        //if it works, save the jwt in the local storage\n        authService.login(this.state.username, this.state.password).then(\n            () => {\n                //go to the home page\n                this.props.history.push(\"/\");\n                window.location.reload();\n            },\n            error => {\n                const resMessage =\n                    (error.response &&\n                        error.response.data &&\n                        error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n                this.setState({\n                    errorMessage: resMessage\n                });\n            }\n        )\n    }\n\n    //if the auth returns an error message\n    handlErrorMessage(message) {\n        this.setState({ errorMessage: message });\n    }\n\n    render() {\n        return (\n            <div className=\"Login\">\n                <section class=\"hero is-success is-fullheight\">\n                    <div class=\"hero-body\">\n                        <div class=\"container has-text-centered\">\n                            <div class=\"column is-4 is-offset-4\">\n                                <h3 class=\"title has-text-black\">Login</h3>\n                                <hr class=\"login-hr\" />\n                                <p class=\"subtitle has-text-black\">Please login to proceed.</p>\n                                <div class=\"box\">\n                                    {this.state.errorMessage &&\n                                        <div class=\"notification is-danger\">\n                                            Invalid Credentials.\n                                        </div>\n                                    }\n                                    <form>\n                                        <div class=\"field\">\n                                            <div class=\"control\">\n                                                <input class=\"input is-large\" type=\"username\" placeholder=\"Your Username\" value={this.state.username} onChange={this.handleUsername} />\n                                            </div>\n                                        </div>\n\n                                        <div class=\"field\">\n                                            <div class=\"control\">\n                                                <input class=\"input is-large\" type=\"password\" placeholder=\"Your Password\" value={this.state.password} onChange={this.handlePassword} />\n                                            </div>\n                                        </div>\n                                        <button class=\"button is-block is-info is-large is-fullwidth\" onClick={this.handleSubmit}>Login <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i></button>\n                                    </form>\n                                </div>\n                                <p class=\"has-text-grey\">\n                                    <a href=\"../\">Sign Up</a> &nbsp;·&nbsp;\n                                        <a href=\"../\">Forgot Password</a> &nbsp;·&nbsp;\n                                        <a href=\"../\">Need Help?</a>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}