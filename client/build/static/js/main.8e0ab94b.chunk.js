(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,s){},107:function(e,t,s){},114:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(12),l=s.n(n),r=(s(57),s(7)),c=s(8),o=s(18),d=s(17),h=(s(58),s(19),s(6));s(59),s(60);function m(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var u=s(21),j=s.n(u),p=s(23).API_URL,b=new(function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e,t){return j.a.post(p+"/login",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.getItem("token")&&localStorage.removeItem("token")}},{key:"register",value:function(e,t){return j.a.post(p+"/register",{username:e,password:t}).then((function(e){return e.data}))}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),g=s(2);function v(e){var t=Object(a.useState)(!1),s=Object(h.a)(t,2),i=s[0],n=s[1],l=Object(a.useState)(null),r=Object(h.a)(l,2),c=r[0],o=r[1],d=Object(a.useState)(null),u=Object(h.a)(d,2),j=u[0],p=u[1],v=Object(a.useState)(null),f=Object(h.a)(v,2),x=f[0],O=f[1],y=Object(a.useState)(null),S=Object(h.a)(y,2),T=S[0],N=S[1];return Object(a.useEffect)((function(){m()["x-access-token"]&&n(!0)}),[]),Object(g.jsx)("div",{className:"Navbar",children:Object(g.jsxs)("div",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(g.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(g.jsx)("div",{className:"navbar-start",children:Object(g.jsx)("a",{className:"navbar-item",id:"logo",href:"/",children:"Home"})})}),Object(g.jsxs)("div",{className:"navbar-end",children:[Object(g.jsx)("div",{className:"navbar-item",children:T&&Object(g.jsx)("span",{className:"p-2 has-text-white has-background-success",children:T})}),!1===i&&Object(g.jsxs)("div",{className:"navbar-item",children:[x&&Object(g.jsx)("span",{className:"p-2 has-text-white has-background-danger",children:x}),Object(g.jsx)("div",{className:"field m-2",children:Object(g.jsx)("div",{className:"control",children:Object(g.jsx)("input",{className:"input is-normal",type:"username",placeholder:"Your Username",onChange:function(e){o(e.target.value)}})})}),Object(g.jsx)("div",{className:"field m-2",children:Object(g.jsx)("div",{className:"control",children:Object(g.jsx)("input",{className:"input is-normal",type:"password",placeholder:"Your Password",onChange:function(e){p(e.target.value)}})})}),Object(g.jsxs)("div",{className:"buttons",children:[Object(g.jsx)("div",{className:"button is-primary",onClick:function(e){e.preventDefault(),c&&j?b.register(c,j).then((function(e){N("Account successfully created! You can now login"),O(null)}),(function(e){O("Username taken. Please try a different username"),N(null)})):O("Please provide username and password to sign up")},children:Object(g.jsx)("strong",{children:"Sign up"})}),Object(g.jsx)("div",{className:"button is-light",onClick:function(e){e.preventDefault(),c&&j?b.login(c,j).then((function(e){N("Successfully logged in!"),O(null),n(!0)}),(function(e){O("Wrong username or password"),N(null)})):O("Please provide username and password to log in")},children:"Log in"})]})]}),i&&Object(g.jsx)("div",{className:"navbar-item",children:Object(g.jsx)("div",{className:"buttons",children:Object(g.jsx)("div",{className:"button is-primary",onClick:function(){b.logout(),n(!1),O(null),N(null)},children:Object(g.jsx)("strong",{children:"Logout"})})})})]})]})})}var f={backgroundColor:"#d2aaad",borderTop:"1px solid #E7E7E7",textAlign:"center",color:"black",padding:"10px",position:"fixed",left:"0",bottom:"0",height:"40px",width:"100%"},x={display:"block",padding:"20px",height:"60px",width:"100%"};function O(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{style:x}),Object(g.jsx)("div",{style:f,children:"Made by zolboo1024 using React and Node.js"})]})}var y=s(29),S=s(22),T=s.n(S),N=s(15),w=Object(N.a)(),k=s(23);function E(e){T.a.setApiKey(k.PLACES_KEy),T.a.fromAddress(e.value.description).then((function(e){var t=e.results[0].geometry.location,s=t.lat,a=t.lng,i=s+" "+a;localStorage.setItem("selectedLocation",i),function(e,t,s){w.push(e+"?lat="+t+"&lng="+s),window.location.reload()}("/sportsMap",s,a)}),(function(e){console.error(e)}))}function M(e){return e?Object(g.jsx)("div",{className:"button is-info is-rounded is-link",onClick:function(){E(e)},children:"Search"}):Object(g.jsx)("div",{className:"button is-info is-rounded is-link",disabled:!0,children:"Search"})}function C(e){var t=Object(a.useState)(null),s=Object(h.a)(t,2),i=s[0],n=s[1];return localStorage.getItem("eventCreated")||(console.log("saving event cookie"),localStorage.setItem("eventCreated","false")),Object(g.jsxs)("div",{className:"landingSearchPage",children:[Object(g.jsx)(v,{}),Object(g.jsx)("section",{className:"hero is-info is-fullheight-with-navbar has-bg-img",children:Object(g.jsx)("div",{className:"hero-body",children:Object(g.jsx)("div",{className:"container has-text-centered",children:Object(g.jsxs)("div",{className:"column is-6 is-offset-3",children:[Object(g.jsxs)("div",{className:"box",children:[Object(g.jsx)("h1",{className:"title has-text-black",children:"Sports Partner Finder"}),Object(g.jsx)("h2",{className:"subtitle has-text-black",children:"Find a partner for your activities"})]}),Object(g.jsxs)("div",{className:"box is-rounded",children:["Enter your location to find nearby partners",Object(g.jsxs)("div",{className:"field is-grouped",children:[Object(g.jsx)("div",{className:"control is-expanded",children:Object(g.jsx)(y.a,{className:"control is-expanded",apiKey:k.PLACES_KEy,selectProps:{selected:i,onChange:n}})}),M(i)]})]})]})})})}),Object(g.jsx)(O,{})]})}var P=s(4),_=s(16),I=[{featureType:"all",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"administrative",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#686868"},{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{lightness:"-22"},{visibility:"on"},{color:"#b4b4b4"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{saturation:"-51"},{lightness:"11"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{saturation:"3"},{lightness:"-56"},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{lightness:"-52"},{color:"#9094a0"},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{weight:"6.13"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{weight:"1.24"},{saturation:"-100"},{lightness:"-10"},{gamma:"0.94"},{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b4b4b4"},{weight:"5.40"},{lightness:"7"}]},{featureType:"road.highway.controlled_access",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:"#231f1f"}]},{featureType:"road.highway.controlled_access",elementType:"labels.text.fill",stylers:[{visibility:"simplified"},{color:"#595151"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{lightness:"-16"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#d7d7d7"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{color:"#282626"},{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{saturation:"-41"},{lightness:"-41"},{color:"#2a4592"},{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{weight:"1.10"},{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{lightness:"-16"},{weight:"0.72"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{lightness:"-37"},{color:"#2a4592"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{visibility:"off"},{color:"#eeed6a"}]},{featureType:"transit.line",elementType:"geometry.stroke",stylers:[{visibility:"off"},{color:"#0a0808"}]},{featureType:"water",elementType:"all",stylers:[{color:"#b7e4f4"},{visibility:"on"}]}],L=(s(82),s(23));T.a.setApiKey(L.PLACES_KEy);var U={width:"100vw",height:"100vh"},A={styles:I,disableDefaultUI:!0};function F(e){var t=Object(a.useState)(null),s=Object(h.a)(t,2),n=s[0],l=s[1],r=Object(a.useState)({lat:38.8977,lng:77.0365}),c=Object(h.a)(r,2),o=c[0],d=c[1],m=Object(_.d)({googleMapsApiKey:L.JS_MAPS_KEY}),u=m.isLoaded,j=m.loadError,p=i.a.useState(),b=Object(h.a)(p,2),f=b[0],x=b[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("selectedLocation").split(" ");d({lat:parseFloat(e[0]),lng:parseFloat(e[1])})}),[]),j?"LoadError":u?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),Object(g.jsxs)("div",{className:"hero is-fullheight-with-navbar",children:[Object(g.jsxs)("div",{className:"box has-text-black",id:"question",children:[Object(g.jsx)("h1",{className:"title has-text-black",children:"Where would you like to play? (Drop a pin)"}),Object(g.jsx)("h3",{children:"Search for a specific location:"}),Object(g.jsx)(y.a,{apiKey:L.PLACES_KEy,selectProps:{selected:n,onChange:function(e){var t=e.value.description;T.a.fromAddress(t).then((function(e){var t=e.results[0].geometry.location,s=t.lat,a=t.lng,i=s+" "+a;localStorage.setItem("selectedLocation",i),l({lat:parseFloat(s),lng:parseFloat(a)})}),(function(e){console.error(e)}))}}})]}),f&&Object(g.jsx)("div",{className:"box",id:"rightarrow",children:Object(g.jsx)("input",{type:"image",alt:"right arrow",src:window.location.origin+"/svgs/rightarrow.svg",onClick:e.nextStep})}),Object(g.jsx)(_.a,{mapContainerStyle:U,zoom:15,center:o,options:A,onClick:function(t){x({lat:t.latLng.lat(),lng:t.latLng.lng()}),e.handleLocation(t.latLng.lat(),t.latLng.lng())},children:f&&Object(g.jsx)(_.c,{position:{lat:f.lat,lng:f.lng}})})]})]}):"Loading"}var D=[[{name:"Running",emojiUrl:"/emojis/Running.png"},{name:"Tennis",emojiUrl:"/emojis/Tennis.png"},{name:"Volleyball",emojiUrl:"/emojis/Volleyball.png"},{name:"Surfing",emojiUrl:"/emojis/Surfing.png"}],[{name:"Basketball",emojiUrl:"/emojis/Basketball.png"},{name:"Climbing",emojiUrl:"/emojis/Climbing.png"},{name:"Baseball",emojiUrl:"/emojis/Baseball.png"},{name:"Swimming",emojiUrl:"/emojis/Swimming.png"}],[{name:"Biking",emojiUrl:"/emojis/Biking.png"},{name:"Football",emojiUrl:"/emojis/Football.png"},{name:"Golfing",emojiUrl:"/emojis/Golfing.png"},{name:"Badminton",emojiUrl:"/emojis/Badminton.png"}],[{name:"Soccer",emojiUrl:"/emojis/Soccer.png"},{name:"Skateboarding",emojiUrl:"/emojis/Skateboarding.png"},{name:"Skiing",emojiUrl:"/emojis/Skiing.png"},{name:"Other",emojiUrl:"/emojis/Other.png"}]],K=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={selected:"",emojis:D},a.handleSelection=a.handleSelection.bind(Object(P.a)(a)),a}return Object(c.a)(s,[{key:"handleSelection",value:function(e){this.state.selected!==e?this.setState({selected:e}):this.setState({selected:""}),this.props.onSportChange(e)}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),Object(g.jsx)("h1",{className:"title has-text-centered",children:"What sport do you plan to play?"}),Object(g.jsxs)("div",{className:"container m-auto",children:[this.state.selected&&Object(g.jsx)("input",{type:"image",alt:"selected",src:window.location.origin+"/svgs/rightarrow.svg",align:"right",onClick:this.props.nextStep}),Object(g.jsx)("div",{id:"cards",className:"columns is-multiline is-mobile",children:this.state.emojis&&this.state.emojis.map((function(t,s){return Object(g.jsx)("div",{className:"column is-one-quarter",children:t.map((function(t,s){var a=t.name,i=t.emojiUrl;return Object(g.jsx)("div",{className:"container m-6",children:Object(g.jsxs)("div",{className:"card",onClick:function(){return e.handleSelection(a)},children:[Object(g.jsx)("div",{className:"card-header",children:Object(g.jsx)("p",{className:"card-header-title",children:a})}),Object(g.jsx)("div",{className:"card-image",children:Object(g.jsx)("figure",{className:"image m-4",children:e.state.selected===a?Object(g.jsx)("img",{src:window.location.origin+"/svgs/check.svg",alt:"Checked"}):Object(g.jsx)("img",{src:window.location.origin+i,alt:"Checked"})})})]},a)},s)}))},s)}))})]})]})}}]),s}(a.Component),R=s(34),B=s.n(R),z=(s(106),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),a=t.call(this,e);var i=(new Date).getTime();return a.state={minStartingTime:i+18e5,startTime:new Date(i+18e5),minEndingTime:i+36e5,endTime:new Date(i+36e5),numPeople:3,error:""},a.handleStartTime=a.handleStartTime.bind(Object(P.a)(a)),a.handleEndTime=a.handleEndTime.bind(Object(P.a)(a)),a.handleNumParticipants=a.handleNumParticipants.bind(Object(P.a)(a)),a.props.handleStartTime(a.state.startTime),a.props.handleEndTime(a.state.endTime),a}return Object(c.a)(s,[{key:"handleStartTime",value:function(e){if(e.getTime()<this.state.minStartingTime)this.setState({error:"Sorry! Events can only start 30 minutes from now as the soonest"});else{var t=new Date(e.getTime()+18e5);this.setState({startTime:e,endTime:t,error:""}),this.props.handleStartTime(e),this.props.handleEndTime(t)}}},{key:"handleEndTime",value:function(e){e.getTime()<=this.state.startTime?this.setState({error:"Sorry! You cannot end it before it starts!"}):(this.setState({endTime:e,error:""}),this.props.handleEndTime(e))}},{key:"handleNumParticipants",value:function(e){this.setState({numPeople:e.target.value}),this.props.handleNumParticipants(e)}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),this.props.returnMessage&&Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"modal is-active",children:[Object(g.jsx)("div",{className:"modal-background"}),Object(g.jsxs)("div",{className:"modal-card",children:[Object(g.jsxs)("header",{className:"modal-card-head",children:[Object(g.jsx)("p",{className:"modal-card-title",children:this.props.returnMessage}),Object(g.jsx)("button",{className:"delete","aria-label":"close",onClick:this.props.redirectToMaps})]}),Object(g.jsx)("section",{className:"modal-card-body",children:"Your event is now visible to other users"}),Object(g.jsx)("footer",{className:"modal-card-foot",children:Object(g.jsx)("button",{className:"button is-success",onClick:this.props.redirectToMaps,children:"Go back"})})]})]})}),Object(g.jsx)("h1",{className:"title has-text-centered",children:"Tell us a little more"}),Object(g.jsxs)("div",{className:"box pb-6",id:"outerbox",children:[this.state.error&&Object(g.jsx)("div",{className:"notification is-danger",children:this.state.error}),Object(g.jsx)("h1",{className:"title is-4 has-text-centered",children:"When do you plan to play?"}),Object(g.jsx)("h2",{className:"subtitle has-text-centered",children:"From"}),Object(g.jsx)("div",{className:"box innerbox",children:Object(g.jsx)(B.a,{id:"timepicker",value:this.state.startTime,onChange:this.handleStartTime})}),Object(g.jsx)("h2",{className:"subtitle has-text-centered",children:"To"}),Object(g.jsx)("div",{className:"box innerbox",children:Object(g.jsx)(B.a,{id:"timepicker",value:this.state.endTime,onChange:this.handleEndTime})})]}),Object(g.jsxs)("div",{className:"box",id:"outerbox",children:[this.state.error&&Object(g.jsx)("div",{className:"notification is-danger",children:this.state.error}),Object(g.jsx)("h1",{className:"title is-4 has-text-centered",children:"How many people will be there?"}),Object(g.jsx)("div",{id:"outerSelect",children:Object(g.jsx)("div",{className:"select",onChange:this.handleNumParticipants,children:Object(g.jsxs)("select",{className:"innerSelect",children:[Object(g.jsx)("option",{children:"1"}),Object(g.jsx)("option",{children:"2"}),Object(g.jsx)("option",{children:"3"}),Object(g.jsx)("option",{children:"4"}),Object(g.jsx)("option",{children:"5+"})]})})})]}),!this.state.error&&Object(g.jsx)("div",{className:"center_stuff",children:Object(g.jsx)("button",{className:"button is-success is-rounded m-4",id:"submitbutton",onClick:this.props.handleSubmit,children:"Submit"})})]})}}]),s}(a.Component)),J=s(23),Y=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={loggedIn:!1,userId:"",sport:"",location:"",start_time:"",end_time:"",num_participants:1,description:"usercreated",errorMessage:"",returnMessage:"",step:1},a.handleSport=a.handleSport.bind(Object(P.a)(a)),a.handleLocation=a.handleLocation.bind(Object(P.a)(a)),a.handleStartTime=a.handleStartTime.bind(Object(P.a)(a)),a.handleEndTime=a.handleEndTime.bind(Object(P.a)(a)),a.handleNumParticipants=a.handleNumParticipants.bind(Object(P.a)(a)),a.handleDescription=a.handleDescription.bind(Object(P.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(P.a)(a)),a.handleErrorMessage=a.handleErrorMessage.bind(Object(P.a)(a)),a.handleReturnMessage=a.handleReturnMessage.bind(Object(P.a)(a)),a.checkInputs=a.checkInputs.bind(Object(P.a)(a)),a.redirectToMaps=a.redirectToMaps.bind(Object(P.a)(a)),a.nextStep=a.nextStep.bind(Object(P.a)(a)),a.prevStep=a.prevStep.bind(Object(P.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=b.getCurrentUser();if(e&&e.accessToken){var t=e.id;this.setState({loggedIn:!0,userId:t})}else this.setState({userId:"Anonymous"})}},{key:"redirectToMaps",value:function(){var e=this.state.location.split(" ");this.props.history.push("/sportsMap?lat="+e[0]+"&lng="+e[1]),window.location.reload()}},{key:"handleSport",value:function(e){this.setState({sport:e})}},{key:"handleLocation",value:function(e,t){this.setState({location:e+" "+t})}},{key:"handleStartTime",value:function(e){this.setState({start_time:e})}},{key:"handleEndTime",value:function(e){this.setState({end_time:e})}},{key:"handleNumParticipants",value:function(e){this.setState({num_participants:e.target.value})}},{key:"handleDescription",value:function(e){this.setState({description:e.target.value})}},{key:"nextStep",value:function(e){var t=this.state.step+1;this.setState({step:t})}},{key:"prevStep",value:function(e){var t=this.state.step-1;this.setState({step:t})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.checkInputs()&&j.a.post(J.API_URL+"/events/create",{userId:this.state.userId,sport:this.state.sport,location:this.state.location,start_time:this.state.start_time,end_time:this.state.end_time,participants:this.state.userId,num_participants:this.state.num_participants,description:this.state.description},{headers:m()}).then((function(){t.handleReturnMessage("Event successfully created!")}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.handleReturnMessage(s)}))}},{key:"checkInputs",value:function(){return""===this.state.sport?(this.handleErrorMessage("Please tell us what sport you are playing to find a match"),!1):""===this.state.location?(this.handleErrorMessage("Please tell us where you are playing to find a match"),!1):""===this.state.start_time||""===this.state.end_time?(this.handleErrorMessage("Please tell us when you are playing to find a match"),!1):""!==this.state.num_participants||(this.handleErrorMessage("Please tell us how many participants will be there to find a match"),!1)}},{key:"handleErrorMessage",value:function(e){this.setState({errorMessage:e})}},{key:"handleReturnMessage",value:function(e){this.setState({returnMessage:e})}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"HostEvent",children:[1===this.state.step&&Object(g.jsx)(K,{onSportChange:this.handleSport,nextStep:this.nextStep},"1"),2===this.state.step&&Object(g.jsx)(F,{handleLocation:this.handleLocation,nextStep:this.nextStep,prevStep:this.prevStep},"2"),3===this.state.step&&Object(g.jsx)(z,{handleStartTime:this.handleStartTime,handleEndTime:this.handleEndTime,prevStep:this.prevStep,handleNumParticipants:this.handleNumParticipants,handleSubmit:this.handleSubmit,returnMessage:this.state.returnMessage,redirectToMaps:this.redirectToMaps},"3"),Object(g.jsx)(O,{})]})}}]),s}(a.Component),H=(s(107),s(23)),W=["places"],q={width:"66vw",height:"80vh"},V={styles:I,disableDefaultUI:!0};function G(e){var t=Object(_.d)({googleMapsApiKey:H.JS_MAPS_KEY,libraries:W}),s=t.isLoaded,n=t.loadError,l=i.a.useState(),r=Object(h.a)(l,2),c=r[0],o=r[1],d=i.a.useState(),m=Object(h.a)(d,2),u=m[0],p=m[1],b=new URLSearchParams(e.location.search),f={lat:38.8977,lng:77.0365};if(localStorage.getItem("selectedLocation")){var x=localStorage.getItem("selectedLocation").split(" ");f={lat:parseFloat(x[0]),lng:parseFloat(x[1])}}return b.get("lat")&&(f={lat:parseFloat(b.get("lat")),lng:parseFloat(b.get("lng"))}),Object(a.useEffect)((function(){j.a.get(H.API_URL+"/events/getAll").then((function(e){var t=e.data.filter((function(e){if(new Date(e.end_time).getTime()<=Date.now())return!1;function t(e){return e*(Math.PI/180)}var s=e.location.split(" "),a=f.lat,i=f.lng,n=parseFloat(s[0]),l=parseFloat(s[1]),r=t(n-a),c=t(l-i),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t(a))*Math.cos(t(n))*Math.sin(c/2)*Math.sin(c/2);return!(6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))>5)})).map((function(e){var t=e.location.split(" "),s=parseFloat(t[0]),a=parseFloat(t[1]),i=new Date(e.start_time).toTimeString().substring(0,5),n=new Date(e.end_time).toTimeString().substring(0,5),l=e.start_time.substring(0,10),r=e.host;return{id:e.id,lat:s,creator:r,lng:a,sportName:e.sport_type,startTime:i,date:l,endTime:n,numParticipants:e.num_participants}}));o(t)}))}),[]),n?"LoadError":s?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),Object(g.jsxs)("div",{className:"is-fullheight-with-navbar",children:[Object(g.jsxs)("h1",{className:"title has-text-centered",children:["Join These Activities Near You (or ",Object(g.jsx)("a",{href:"/hostEvent",children:"Host Your Own)"})]}),Object(g.jsx)("h2",{className:"subtitle has-text-centered",children:"Click on the emoji for more information"}),Object(g.jsxs)("div",{className:"columns",children:[Object(g.jsxs)("div",{className:"column is-one-third scrollable",children:[c&&c.map((function(e){return Object(g.jsx)("div",{className:"box moreinfobox",onMouseEnter:function(){p(e)},onMouseLeave:function(){p(null)},children:Object(g.jsxs)("div",{className:"columns",children:[Object(g.jsx)("div",{className:"column is-one-third",children:Object(g.jsx)("img",{src:"/emojis/"+e.sportName+".png",alt:"sportemoji"})}),Object(g.jsxs)("div",{className:"column",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("span",{className:"is-size-4",children:[Object(g.jsx)("span",{className:"has-text-weight-semibold",children:"What: "}),e.sportName]})}),Object(g.jsx)("div",{children:Object(g.jsxs)("span",{className:"is-size-5",children:[Object(g.jsx)("span",{className:"has-text-weight-semibold",children:"When: "}),e.startTime,"-",e.endTime," (",e.date,")"]})}),Object(g.jsx)("div",{children:Object(g.jsxs)("span",{className:"is-size-5",children:[Object(g.jsx)("span",{className:"has-text-weight-semibold",children:"How many people: "}),e.numParticipants]})}),Object(g.jsx)("div",{children:Object(g.jsxs)("span",{className:"is-size-5",children:[Object(g.jsx)("span",{className:"has-text-weight-semibold",children:"Created by: "}),e.creator]})})]})]})},e.id)})),(!c||0===c.length)&&Object(g.jsxs)("div",{className:"box is-size-4 has-text-weight-semibold has-text-danger no-event-box",children:["Hmmmmm... It looks like there is no sport event near you. However, you can host your own here:",Object(g.jsx)("div",{className:"outerHostEvent",children:Object(g.jsx)("a",{className:"button is-success is-large is-rounded m-4",id:"neweventbutton",href:"/hostEvent",children:"Host your own event"})})]})]}),Object(g.jsx)("div",{className:"column",children:Object(g.jsx)("div",{className:"container container-extra",children:Object(g.jsxs)(_.a,{mapContainerStyle:q,zoom:15,center:f,options:V,children:[c&&c.map((function(e){return Object(g.jsx)(_.c,{position:{lat:e.lat,lng:e.lng},onClick:function(){console.log(e),p(e)},icon:{url:"/emojis/"+e.sportName+".png",scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)}},e.id)})),u&&Object(g.jsx)(_.b,{position:{lat:u.lat,lng:u.lng},onCloseClick:function(){p(null)},children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("header",{className:"card-header",children:Object(g.jsx)("p",{className:"card-header-title",children:u.sportName})}),Object(g.jsxs)("div",{className:"card-content",children:[Object(g.jsxs)("p",{children:["Starts: ",u.startTime]}),Object(g.jsxs)("p",{children:["Ends: ",u.endTime]}),Object(g.jsxs)("p",{children:["# of people: ",u.numParticipants]})]})]})})]})})})]})]}),Object(g.jsx)(O,{})]}):"Loading"}var X=s(118),Z=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={apiResponse:""},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(g.jsx)(X.b,{history:w,children:Object(g.jsxs)(X.c,{children:[Object(g.jsx)(X.a,{path:"/hostEvent",component:Y}),Object(g.jsx)(X.a,{path:"/sportsMap",component:G}),Object(g.jsx)(X.a,{path:"/",component:C})]})})}}]),s}(a.Component),Q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,119)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,n=t.getLCP,l=t.getTTFB;s(e),a(e),i(e),n(e),l(e)}))};l.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(Z,{})}),document.getElementById("root")),Q()},23:function(e){e.exports=JSON.parse('{"API_URL":"http://18.222.228.18:7000","JS_MAPS_KEY":"AIzaSyBIXXjWg5SB-eMj7KM91p2gUUmCd_VpJNA","PLACES_KEy":"AIzaSyC5_uV2cp2O90kHUWs0eO4vWdYtaUINZT8"}')},57:function(e,t,s){},58:function(e,t,s){},59:function(e,t,s){},60:function(e,t,s){},82:function(e,t,s){}},[[114,1,2]]]);
//# sourceMappingURL=main.8e0ab94b.chunk.js.map